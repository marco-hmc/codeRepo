---
title: "(4)第三章多线程服务器的适用场合"
subtitle: "muduo阅读笔记"
layout: post
author: "Marco"
header-style: text
hidden: true
tags:
  - 计算机网络
  - linux多线程服务端编程

---

 ## 第三章多线程服务器的适用场合

### 1. 导语

- ***多线程复习***

  ​	多线程是1993年之后才慢慢流行起来，因为程序进行运算都是交给cpu去计算的，在以前多核cpu不流行的年代，多线程是没有意义的。而多线程和多进程本质的区别就是共享了地址空间，所以可以共享数据。

- ***单线程服务器的常用编程模型***

  ​	有Reactor模式和Proactor模型两种。前者其实就是Non-blocking IO + IO multiplexing。后者就是异步网络模型。而linux对异步支持不是很好，而且异步代码编写麻烦，用得不多。

- ***多线程服务器的常用编程模型***

  - 使用线程池
  - 还是使用non-blocking IO + IO multiplexing
  - Leader/Follower等高级模式

- ***进程通信为什么建议用sockets？***

  ​	linux下进程通信(IPC)的方式有很多，匿名管道、具名管道、消息队列、共享内存、信号等。同步原语也有很多，mutex、cv、读写锁、文件锁、信号量等。

  ​	但使用的时候贵精不贵多，而且现在编程普遍要考虑scalability，即伸缩性。如果是用socket进行多进程的通信，更方便扩展到多台服务器不同进程的通信上。

  - socket还有这些好处，与管道相比，是双向的；socket通信简历的端口是一个进程独占的，可以防止多进程同时抢占端口，运行结束之后，操作系统害会自动回收端口；socket通信崩溃，操作系统会自动关闭连接；socket很方便就实现跨语言，可以让服务端和客户端不必使用同一种语言。
  - 

  


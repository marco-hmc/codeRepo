## 设计

### 1. 开发层面的设计
按照我的理解，我会将设计分为以下几种。限于个人自身语文水平，以及语言本身表达能力的匮乏，这些设计的命名上似乎难以完全体现其区分。为此，不同设计的严格定义都在这里给出。
厘清这些概念，能够有助于能够从不同角度去理解设计。明白当前设计需要考虑什么。
而传统的设计模式多少有些太泛了，似乎只是指那三大类二十多种模式，又似乎什么都能往里面装。

#### 1.1 **设计模式**：
   - **定义**：设计模式是针对特定问题的通用解决方案，旨在提高系统的灵活性和可扩展性。
   - **作用**：减少重复代码，降低耦合度，提高代码的可维护性和可读性。
   - **示例**：单一职责原则（SRP）、里氏替换原则（LSP）、依赖倒置原则（DIP）等。

#### 1.2 **系统设计/架构设计/业务设计**：
   - **定义**：架构设计是对整个系统的高层次设计，涉及系统的整体结构和各个模块的划分。
   - **作用**：
      * 满足业务：系统设计通过系统化的方法构建和工程化系统，以满足业务或组织的需求。系统设计需要考虑从基础设施到数据存储的所有方面。还需要结合业务需求，划分不同的模块。
      * 满足性能：分析哪些模块可能成为性能瓶颈并调整。比如说日活跃用户1k和日活跃用户100k的网站，其整体架构就不可能一样。按照100k设计1k的网站，必然会增加维护成本；按照1k的设计100k的则必然经常崩溃，这种问题则往往需要系统层面的重构。因此一开始至少要知道某一个那一个模块可能会成为性能瓶颈，这个模块的性能瓶颈能不能克服。
   - **示例**：一个电商系统的系统设计可能包括用户管理模块、商品管理模块、订单处理模块、支付系统、数据库表结构设计和API接口设计等。具体流程可能会有客户端发出请求、服务器端处理请求、校验余额、保证安全、存储数据、实现事务性等等。
   - **实例**：摇一摇、漂流瓶、扫码登录。
      可能是一个微服务程序，单独一个模块有完整的能力。
      更强调产品理解能力，产品的目的是迎合市场，其给出的产品需求是从商业化角度出发，给出一个严谨自洽的设计是开发人员的能力。

#### 1.3 **模块设计**：
   - **定义**：模块设计是对系统中具体模块的设计，强调某一个具体功能的抽象。
   - **作用**：设计具体模块或功能的实现方式，提高模块的独立性和可维护性。
   - **示例**：事件队列、命令分发器、undo-redo实现、消息中心等。

#### 1.4 **实现设计**：
   - **定义**：实现设计是基于具体开发语言的特性，完成性能或可扩展性的提升。
   - **作用**：利用编程语言的特性，优化代码性能，提升系统的可扩展性。
   - **示例**：使用 CRTP（Curiously Recurring Template Pattern）在编译期间实现多态，减少运行时开销。

#### 1.5 **优化设计**：
   - **定义**：优化设计是基于某些先验假设，做出的优化改进。
   - **作用**：在特定场景下，通过优化设计提升系统性能。
   - **示例**：CAS（Compare-And-Swap）操作，通过无锁方式保证线程安全，解决 ABA 问题。

#### 1.6 **数据设计**：
   - **定义**：数据设计涉及数据的存储、组织和管理，包括数据库设计、数据模型设计等。
   - **作用**：确保数据的完整性、一致性和高效访问。
   - **示例**：设计一个关系数据库模式，定义表、字段和关系。

#### 1.7 **开发规范设计**：
   - **定义**：开发规范是出于安全和避免差错的一些设计原则，不属于设计模式的范畴。
   - **作用**：规范代码编写，提升代码质量，减少错误。
   - **示例**：`Effective C++` 中提到的条款，如避免使用魔法数、使用智能指针管理资源等。

### 2. 其他设计
除了这些开发层面上存在的设计之外，其实还有一些其他层面上的设计。

#### 2.1 **用户体验设计（User Experience Design, UX Design）**：
   - **角度**：产品角度
   - **定义**：用户体验设计关注用户在使用产品时的整体体验，包括界面设计、交互设计、信息架构等。
   - **作用**：提高产品的可用性和用户满意度。
   - **示例**：设计一个直观的用户界面，使用户能够轻松完成任务。

#### 2.2 **测试设计（Test Design）**：
   - **角度**：测试角度
   - **定义**：测试设计涉及测试用例的编写、测试策略的制定和测试工具的使用。
   - **作用**：确保软件的质量和可靠性。
   - **示例**：编写单元测试、集成测试和端到端测试用例，使用自动化测试工具进行测试。

#### 2.3 **持续集成和持续部署设计（CI/CD Design）**：
   - **角度**：运维角度
   - **定义**：CI/CD 设计涉及自动化构建、测试和部署流程的设计。
   - **作用**：提高开发效率，减少手动操作，确保代码的持续交付。
   - **示例**：使用 Jenkins 或 GitHub Actions 设置自动化构建和部署流水线。

#### 2.4 **安全设计（Security Design）**：
   - **角度**：安全角度，其实本质上也可以认为是开发的角度，但一般开发和安全开发还是有较大生殖隔离，因此独立出来。
   - **定义**：安全设计关注系统的安全性，包括身份验证、授权、数据加密等。
   - **作用**：保护系统和数据免受未经授权的访问和攻击。
   - **示例**：设计一个多因素身份验证系统，确保只有授权用户可以访问系统。

### 3. 总结
这里对各个场景下的设计给出了定义和示例。这些概念更多是个人的经验划分，并不完全是开发者群体的集体共识。
但个人觉得明确了这些不同设计层次的一些本质概念，将更有助于在实践中开发运用。
后面也会接着补充开发层面设计的相关博文。

### 99. ref
1. https://github.com/checkcheckzz/system-design-interview
2. https://github.com/InterviewReady/system-design-resources
3. https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%BB%E9%A2%98%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B
4. 大话设计模式
> 本书并没有局限于那种分布式框架，而是着重讲解分布式整体架构设计理念和基础知识。
> **作者水平非常高，本书广度非常大**（诚然并不是很深，要在一本书里将那么多知识深度讲解也是不可能的），深入浅出，大家不用担心晦涩难懂（在这里更加推荐英文基础好的话直接读英文原版）。



python: caller.py
cpp: String.cpp


## python如何调用cpp代码用于测试？

### 1. 什么是swig
SWIG（Simplified Wrapper and Interface Generator）是一个软件开发工具，它可以将 C 和 C++ 代码与各种高级编程语言连接起来，包括 Python、Java、Ruby、Perl 等。

SWIG 主要用于创建语言绑定，让你可以在 Python 这样的高级语言中调用 C 或 C++ 编写的代码。这对于那些需要性能优化的项目非常有用，因为 C 和 C++ 通常比 Python 运行得更快。

在你给出的 `caller.py` 文件中，可能使用了 SWIG 来调用 `String.cpp` 中的 C++ 代码。你可以在 `caller.py` 文件中查找 `import` 语句，看看是否有导入由 SWIG 生成的模块。

#### 1.1
SWIG（Simplified Wrapper and Interface Generator）是一个软件开发工具，它可以帮助你创建跨语言的接口。以下是使用 SWIG 的基本步骤：

1. **创建接口文件**：首先，你需要创建一个 SWIG 接口文件（通常以 `.i` 结尾），在这个文件中，你需要声明你想要从其他语言中访问的 C/C++ 函数和类。例如：

```c++
%module example
%{
#include "example.h"
%}

%include "example.h"
```

2. **运行 SWIG**：然后，你可以运行 SWIG 来生成包装代码。例如，如果你想生成 Python 的包装代码，你可以运行以下命令：

```bash
swig -python example.i
```

这将生成两个文件：`example_wrap.c`（或 `example_wrap.cxx`，如果你的源代码是 C++）和 `example.py`。

3. **编译包装代码**：最后，你需要编译生成的包装代码为一个动态链接库（在 Windows 上是 `.dll` 文件，在 Unix/Linux 上是 `.so` 文件）。例如，如果你在 Unix/Linux 上，你可以运行以下命令：

```bash
gcc -shared example_wrap.c -o _example.so
```

4. **使用生成的模块**：现在，你可以在 Python 中导入和使用 `example` 模块了：

```python
import example

# 现在你可以调用 example.h 中定义的函数和类了
```

以上步骤可能需要根据你的实际情况进行一些修改。例如，你可能需要修改编译命令以适应你的编译环境，或者修改 SWIG 接口文件以适应你的 C/C++ 代码。

### 2. 字符

#### 2.1 数据类型
在编程语言中，字符的数据类型决定了可以存储哪些字符以及如何存储这些字符。
在 C 和 C++ 中，有两种主要字符类型
* char
    主要用于ASCII
* wchar_t
    主要用于Unicode
* char16_t
    c11引入，用于存储utf16
* char32_t
    c11引入，用于存储utf32

#### 2.2 unicode标准
> 简单来说，就是世界上所有主流字符的集合。
Unicode 是一个国际标准，用于为世界上所有的字符、符号和表情符号分配一个唯一的数字。这个数字被称为字符的 Unicode 码点。Unicode 的目标是能够表示所有的写作系统，包括拉丁字母、希腊字母、阿拉伯字母、汉字、象形文字等。

Unicode 标准定义了一系列的字符集，每个字符集包含一组字符和它们对应的码点。例如，基本多语言平面（Basic Multilingual Plane，BMP）是最常用的字符集，它包含了大多数现代语言的字符，以及许多符号和标点符号。

Unicode 标准还定义了一些编码方案，如 UTF-8、UTF-16 和 UTF-32，这些编码方案定义了如何将字符的码点转换为字节序列。这使得 Unicode 字符可以被存储在文件中，或者在网络上进行传输。

总的来说，Unicode 标准是一个全球通用的字符编码系统，它使得我们可以在电脑上使用任何语言进行写作和阅读。

#### 2.2 字符编码
字符编码是一种规则，它定义了如何将字符转换为字节序列。
* ASCII
    * 控制字符：ASCII 的前 32 个字符（0-31）被定义为控制字符，如换行符（ASCII 10，表示为 \n）、回车符（ASCII 13，表示为 \r）等。这些字符主要用于控制设备，而不是表示可视的字符。
    * 可打印字符：ASCII 的后 95 个字符（32-126）被定义为可打印字符，包括英文大小写字母、数字、标点符号和一些特殊字符。
    * ASCII 标准本身只定义了 0 到 127 的字符集，这些字符占用 7 位。然而，许多系统和编码标准会使用 8 位（一个字节）来存储字符，这就留下了 128 到 255 的空间可以用于其他字符。
    * 这个 128 到 255 的范围通常被用于存储特殊字符，例如各种符号、非英语字母等。具体的字符集取决于使用的编码标准。例如，在 ISO 8859-1（也被称为 Latin-1）编码中，这个范围被用于存储西欧语言中的特殊字符，如 á, ñ, ô 等。
    * 然而，需要注意的是，这个 128 到 255 的范围并不是 ASCII 标准的一部分，而是由其他编码标准定义的。在不同的编码标准中，这个范围可能代表不同的字符集。
* UTF-8
    * 在UTF-8编码中，一个字符可能由1到4个字节组成。对于多字节的字符（即2、3、4字节），除了第一个字节外，其余字节的开头都是10。这是UTF-8编码的特性，用于区分多字节字符中的首字节和后续字节。
    * 如果第一个字节的最高位是 1，那么你可以通过计算这个字节开头的连续 1 的个数来确定这个字符的字节长度。例如，如果第一个字节是 110xxxxx，那么这个字符就是两个字节长；如果第一个字节是 1110xxxx，那么这个字符就是三个字节长；如果第一个字节是 11110xxx，那么这个字符就是四个字节长。
    * 所以UTF-8可以兼容ascii，同时可以支持unicode标准。
    * 对于英文字符为大多数的时候，utf8大部分时候都是一个字节的，省空间；因为浪费了比较多的bit去做状态位，而非数据位。在非英文字符为主要内容的时候，经常都是三字节或者四字节的。
* UTF-16
    * 可以用两个字节或者四个字节表示一个字符。
    * 具体的编码规则不研究了，应该就是补utf-8的弱点设计的。即控制位太多，容易三四字节，使得主要字符都是两个字节表示，一些不常用的才是四字节；而不是常用的，在UTF-8也是三四字节。
* UTF-32
    * 统一四个字节表示每一个字符。
    * 字符处理：由于 UTF-32 对每个字符使用固定的 4 个字节，所以在处理字符时，可以直接通过索引来访问字符串中的任何字符，而不需要像处理 UTF-8 或 UTF-16 字符串那样进行复杂的计算。这使得 UTF-32 在需要频繁访问或修改字符串中的字符时非常有用。
    * 内存空间不是问题：UTF-32 使用的存储空间比 UTF-8 和 UTF-16 多，所以如果内存空间不是问题，而且需要进行大量的字符处理，那么 UTF-32 可能是一个好的选择。
    * 兼容性：有些系统或应用可能需要使用 UTF-32 来确保与某些特定的软件或硬件的兼容性。

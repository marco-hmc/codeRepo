## 模板基础

### 1.1 什么是模板

模板是 C++ 中的一种泛型编程工具，它允许你编写与类型无关的代码。通过使用模板，你可以编写一次代码，然后在不同的上下文中重用它，而不需要为每种类型编写单独的代码。

如果基于类似概念解析，模板可以看成是基于类型编程，或者称之为面向类型编程。所谓模板实例化，其实对应的是类型的声明；模板特化，其实是对于类型做if-else；模板的递归，其实就对类型做循环。而一个语言其实能够做到有变量的概念，if-else能力，loop能力。其实这个语言就很强了。而模板编程就具有类似的能力。因此模板编程能力其实是非常强大的。

那模板编程的好处是什么呢？如果单单从狭义的泛型编程来看，正如前面提到的，因为写的是类型无关的代码，当声明了类型，完成了模板实例化的时候，就可以复用代码了。

而如果从狭义的面向类型编程角度出发，有什么好处呢？首先，要知道的是对于c++语言来说，类型不是运行时必要的信息，类型更多是编译时的概念。因此面向类型的编程的耗时都是在编译期间完成的。但是类型确定是编码期间要确定的，把开销挪到编译时只能局限于非常小的范围。还有什么好处呢？提升了泛型编程的能力，比如说实现一个容器对象，容器对象的`clear()`，即清楚容器内所有元素的函数，对于POD类型（plain old data，可简单理解为默认类型）和自定义类型来说是有两种实现要求的。如果是POD类型，不会管理资源，其析构函数概念弱，不强调；而自定义类型是可能管理资源，当调用`clear()`的时候是需要对元素逐个调用其析构函数的。这个时候就需要强调对类型有if-else的能力了。

### 1.2 模板的基本语法

模板的基本语法包括模板声明、模板定义和模板实例化。模板声明和定义使用 `template` 关键字，后跟模板参数列表。模板参数列表可以包含类型参数和非类型参数。

```cpp
// 函数模板
template <typename T>
T functionName(T parameter) {
    // 函数体
}

// 类型模板
template <typename T>
class ClassName {
public:
    T memberFunction(T parameter) {
        // 函数体
    }
private:
    T memberVariable;
};
```

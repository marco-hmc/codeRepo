1/socket和epoll的关系区别?(不太懂他意思,反正对epoll的底层进行了阐述)


#### **网络通信部分**
* 网络通信部分,主要有两大块,
1. 第一个是程序启动时,与服务端的交互;
2. 第二个就是文件下载与分享的 P2P 网络.

Prerequisites:
1. 具体的就是 Socket 的各种 API 函数,以及基于这些 API 逻辑的组合
2. 当然可能也会用到操作系统平台所特有的网络 API 函数,如 **WSAAsyncSelect** 网络模型.

Design Points:
1. 网络通信部分如何与 UI 部分进行数据交换:
   是使用队列?
    如果使用队列,多线程之间如何保持资源的一致性和解决资源竞态,使用 Event/CriticalSection/Mutex/Semaphore 等?
   全局变量?
   或者相应的 Windows 操作平台提供的特殊通信技术,如 PostMessage 函数/管道?


2/epoll和select的区别
3/epoll的高效,有几种工作模式( LT/ET)
5/TIMEWAIT是什么,为什么要设置TIMEWAIT状态
6/TCP的可靠性是如何实现的?(流量控制/拥塞控制/确认序号/校验???)

2/交给sub 线程的文件描述符如何回收的?
3/tcp粘包

4/tcp三次握手 /2次/4次?
5/tcp可靠性的实现原因
6/滑动窗口的作用


8/tcp是如何处理粘包?

9/tcp是如何关闭的?就是说4次挥手过程

10/如果tcp关闭的第四个分节没有被收到,那么怎么办?

11/tcp的拥塞控制过程

3/这个io复用模型跟普通多线程/多进程的区别
答: io复用,多个链接复用一个线程,而普通多线程是一个链接一个线程,所以必然创建线程的数目就多,现成的创建是有开销的,所以io复用这种开销小.

4/网络传输的数据协议
主要有3个段,前8bit是数据type,中间是length,最后是具体的data.

5/如果协议是这样.如果两个数据包连在一起,怎么分开?
答:在首部再加几个bit,作为隔离位.


6/如何实现你的fd是负载均衡的
答:分类处理

7/多个用户访问同一个资源,如何加锁
答:不太明白他的意思,epoll内部处理事件是同步依次执行的,而且这里的锁是线程资源


1.A机器的进程给B机器的进程发送数据，经历哪些网络层?如何找到目标进程?
基本答出来了。

2.如何解决粘包和半包问题?实际写过这方面的网络通信程序吗?
答得不是很清楚。未写过。

3.对于http协议，如何判断当前的数据是否足够一个完整的http数据包?
面试者答的由TCP层保证，答得不对，读者的实践经历写了实现一个简易Web服务器，未回答出来如何解析http数据包。

5.select函数的用法基本未答出来，

6.epoll模型的水平模式和边缘模式有什么区别?
说不清楚，与简历中描述的不符合。

7.什么是reactor模型?什么是proactor模型?
基本答出来了。

9.多线程之间同步用过哪些锁?实际写过这个代码?哪些情形会造成死锁?
基本答不出来。

10.Redis常用的数据类型有哪些?
说不完整。

11.设计一个表结构高效地存储一篇帖子下面的评论以及评论的回复,写出来。

12. os是如何支持线程和进程操作的？原理是什么？
13. os中的中断
14. 什么是上下文切换，操作系统是怎么做的上下文切换?

3. I/0 多路复用是什么
4. http 接口的函数用过吗
网络库 libevent;
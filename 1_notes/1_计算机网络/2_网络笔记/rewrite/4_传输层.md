## 传输层
### 1. 基本概念

### 2. 其他

#### 2.1 TCP和UDP的区别
TCP(传输控制协议)和UDP(用户数据报协议)是两种常见的传输层协议,它们有以下主要的区别:

1. **连接性**:TCP是一种面向连接的协议,它在数据传输前需要建立连接.而UDP是一种无连接的协议,它不需要建立连接就可以直接发送数据.

2. **可靠性**:TCP提供了数据传输的可靠性保证,它使用了确认/重传和流量控制等机制来确保数据的正确传输.而UDP不提供数据传输的可靠性保证,它只是简单地将数据发送出去,不关心数据是否能正确到达.

3. **传输方式**:TCP是一种流式协议,它将数据看作是一个无结构的字节流.而UDP是一种数据报协议,它将数据划分为一个个的数据报,每个数据报都独立传输.

4. **速度**:由于TCP需要进行连接建立和可靠性保证,所以它的传输速度通常比UDP慢.而UDP由于没有这些开销,所以它的传输速度通常比TCP快.

5. **应用场景**:TCP通常用于需要可靠传输的应用,例如Web浏览/电子邮件和文件传输等.而UDP通常用于对实时性要求高的应用,例如语音和视频通信/在线游戏等.

以上就是TCP和UDP的主要区别.需要注意的是,选择使用TCP还是UDP需要根据应用的具体需求来决定.

#### 2.2 TCP和UDP相关的协议与端口号
基于TCP的协议:

- HTTP:端口80,用于Web浏览
- HTTPS:端口443,用于安全的Web浏览
- FTP:端口20和21,用于文件传输
- SSH:端口22,用于安全的远程登录
- Telnet:端口23,用于远程登录
- SMTP:端口25,用于电子邮件发送
- POP3:端口110,用于电子邮件接收
- IMAP:端口143,用于电子邮件接收

基于UDP的协议:

- DNS:端口53,用于域名解析
- DHCP:端口67和68,用于动态主机配置
- SNMP:端口161和162,用于简单网络管理
- RTP:端口通常在5000到6000之间,用于实时音视频传输

需要注意的是,以上的端口号都是默认的端口号,实际使用中可以根据需要更改.

#### (7) TCP(UDP,IP)等首部的认识(http请求报文构成)
TCP的头部大致包括:源端口,目的端口,序号,确认号,偏移位,标志位,校验和等等

UDP的头部则包括:源端口,目的端口,长度,校验和.

IP数据包的头部包括:源IP地址,目的IP地址,协议,校验和,总长度等等

详见:https://blog.csdn.net/zhangliangzi/article/details/52554439

# UDP 首部格式

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/d4c3a4a1-0846-46ec-9cc3-eaddfca71254.jpg" width="600"/> </div><br>

首部字段只有 8 个字节,包括源端口/目的端口/长度/检验和.12 字节的伪首部是为了计算检验和临时添加的.

# TCP 首部格式

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/55dc4e84-573d-4c13-a765-52ed1dd251f9.png" width="700"/> </div><br>

-   **序号**   :用于对字节流进行编号,例如序号为 301,表示第一个字节的编号为 301,如果携带的数据长度为 100 字节,那么下一个报文段的序号应为 401.

-   **确认号**   :期望收到的下一个报文段的序号.例如 B 正确收到 A 发送来的一个报文段,序号为 501,携带的数据长度为 200 字节,因此 B 期望下一个报文段的序号为 701,B 发送给 A 的确认报文段中确认号就为 701.

-   **数据偏移**   :指的是数据部分距离报文段起始处的偏移量,实际上指的是首部的长度.

-   **确认 ACK**   :当 ACK=1 时确认号字段有效,否则无效.TCP 规定,在连接建立后所有传送的报文段都必须把 ACK 置 1.

-   **同步 SYN**   :在连接建立时用来同步序号.当 SYN=1,ACK=0 时表示这是一个连接请求报文段.若对方同意建立连接,则响应报文中 SYN=1,ACK=1.

-   **终止 FIN**   :用来释放一个连接,当 FIN=1 时,表示此报文段的发送方的数据已发送完毕,并要求释放连接.

-   **窗口**   :窗口值作为接收方让发送方设置其发送窗口的依据.之所以要有这个限制,是因为接收方的数据缓存空间是有限的.

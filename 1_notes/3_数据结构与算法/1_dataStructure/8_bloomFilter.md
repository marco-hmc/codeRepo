#### (26) 布隆过滤器原理与优点
布隆过滤器是一个比特向量或者比特数组,它本质上是一种概率型数据结构,用来查找一个元素是否在集合中,支持高效插入和查询某条记录.常作为针对超大数据量下高效查找数据的一种方法.

**它的具体工作过程是这样子的:**
假设布隆过滤器的大小为m(比特向量的长度为m),有k个哈希函数,它对每个数据用这k个哈希函数计算哈希,得到k个哈希值,然后将向量中相应的位设为1.在查询某个数据是否存在的时候,对这个数据用k个哈希函数得到k个哈希值,再在比特向量中相应的位查找是否为1,如果某一个相应的位不为1,那这个数据就肯定不存在.但是如果全找到了,则这个数据有可能存在.

**为什么说有可能存在呢?**
因为不同的数据经过哈希后可能有相同的哈希值,在比特向量上某个位置查找到1也可能是由于某个另外的数据映射得到的.

**支持删除操作吗**
目前布隆过滤器只支持插入和查找操作,不支持删除操作,如果要支持删除,就要另外使用一个计数变量,每次将相应的位置为1则计数加一,删除则减一.

布隆过滤器中哈希函数的个数需要选择.如果太多则很快所有位都置为1,如果太少会容易误报.

**布隆过滤器的大小以及哈希函数的个数怎么选择?**
k 为哈希函数个数,m 为布隆过滤器长度,n 为插入的元素个数,p 为误报率
![](fig/布隆过滤器.png)
#### (27) 布隆过滤器处理大规模问题时的持久化,包括内存大小受限/磁盘换入换出问题
#### (25) 海量数据的bitmap使用原理
bitmap算法就是使用一个比特映射一个值,它可以用在整数排序和数据压缩上,因为使用一个比特位去存储一个数,所以它可以大大节省空间.

它的具体过程是:先根据数组中元素最大的数N计算需要分配多大的空间.
如果使用int型数组的形式来保存的话,一个int = 4字节  =4*8比特 = 32比特.也就是一个int数可以映射32个数据(图1),然后需要找到最大的数Max,表示最多需要的位数,所以需要开辟的数组空间为int a[1+Max/32].
然后需要推导一个整数a内如何映射32个数据,方法是将待存储的数据模32,然后将a中相应位置的比特置为1.
依此方法映射每一个元素,待读取的时候扫描每个比特位,遇到值为1的就还原该数字.

**BitMap算法评价**
* 优点:
    1. 运算效率高,不进行比较和移位;
    2. 占用内存少,比如最大的数MAX=10000000;只需占用内存为MAX/8=1250000Byte=1.25M.
* 缺点:
    1. 所有的数据不能重复,即不可对重复的数据进行排序.(少量重复数据查找还是可以的,用2-bitmap).
    2. 所需要的空间随着最大元素的增大而增大,当数据类似(1,1000,10万)只有3个数据的时候,用bitmap时间复杂度和空间复杂度相当大,只有当数据比较密集时才有优势.